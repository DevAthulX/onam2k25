<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üå∏ Onam Festival 2024 üå∏</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
        theme: {
            extend: {
                borderRadius: {
                    lg: "var(--radius)",
                    md: "calc(var(--radius) - 2px)",
                    sm: "calc(var(--radius) - 4px)",
                },
                colors: {
                    background: "var(--background)",
                    foreground: "var(--foreground)",
                    card: {
                        DEFAULT: "var(--card)",
                        foreground: "var(--card-foreground)",
                    },
                    primary: {
                        DEFAULT: "var(--primary)",
                        foreground: "var(--primary-foreground)",
                    },
                    secondary: {
                        DEFAULT: "var(--secondary)",
                        foreground: "var(--secondary-foreground)",
                    },
                    muted: {
                        DEFAULT: "var(--muted)",
                        foreground: "var(--muted-foreground)",
                    },
                    accent: {
                        DEFAULT: "var(--accent)",
                        foreground: "var(--accent-foreground)",
                    },
                    festival: {
                        gold: "#FFD700",
                        orange: "#FF6B35", 
                        red: "#DC143C",
                        green: "#50C878",
                        purple: "#8A2BE2"
                    },
                    border: "var(--border)",
                    ring: "var(--ring)",
                },
                fontFamily: {
                    sans: ["Inter", "sans-serif"],
                    festival: ["Playfair Display", "serif"],
                },
                animation: {
                    'float': 'float 6s ease-in-out infinite',
                    'flower-spin': 'flower-spin 8s linear infinite',
                    'petal-dance': 'petal-dance 4s ease-in-out infinite',
                    'maveli-wave': 'maveli-wave 3s ease-in-out infinite',
                    'particle-float': 'particle-float 10s linear infinite',
                    'firework': 'firework 2s ease-out',
                }
            }
        }
    };
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --background: hsl(0 0% 4%);
            --foreground: hsl(45 100% 85%);
            --card: hsl(0 0% 8%);
            --card-foreground: hsl(45 90% 80%);
            --primary: hsl(51 100% 50%);
            --primary-foreground: hsl(0 0% 8%);
            --secondary: hsl(24 100% 60%);
            --secondary-foreground: hsl(0 0% 8%);
            --muted: hsl(0 0% 12%);
            --muted-foreground: hsl(45 60% 60%);
            --accent: hsl(124 60% 55%);
            --accent-foreground: hsl(0 0% 8%);
            --border: hsl(45 30% 25%);
            --ring: hsl(51 100% 50%);
            --radius: 0.75rem;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0A0A0A 0%, #1A0E0E 50%, #0A0A0A 100%);
            color: var(--foreground);
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* Custom Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        @keyframes flower-spin {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.1); }
            100% { transform: rotate(360deg) scale(1); }
        }

        @keyframes petal-dance {
            0%, 100% { transform: translateX(0px) translateY(0px) rotate(0deg); }
            25% { transform: translateX(10px) translateY(-10px) rotate(90deg); }
            75% { transform: translateX(-10px) translateY(-5px) rotate(270deg); }
        }

        @keyframes maveli-wave {
            0%, 100% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.05) rotate(2deg); }
        }

        @keyframes particle-float {
            0% { transform: translateY(100vh) translateX(0px) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100px) translateX(100px) rotate(360deg); opacity: 0; }
        }

        @keyframes firework {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            50% { transform: scale(1) rotate(180deg); opacity: 1; }
            100% { transform: scale(1.5) rotate(360deg); opacity: 0; }
        }

        /* Particle System */
        .particle {
            position: fixed;
            pointer-events: none;
            z-index: 1;
        }

        /* Pookalam Flower Patterns */
        .pookalam-flower {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            position: absolute;
            background: radial-gradient(circle, #FFD700 0%, #FF6B35 50%, #DC143C 100%);
            animation: flower-spin 8s linear infinite;
        }

        .pookalam-flower::before,
        .pookalam-flower::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: radial-gradient(circle, #50C878 0%, #8A2BE2 100%);
        }

        .pookalam-flower::before {
            top: -10px;
            left: 10px;
            animation: petal-dance 4s ease-in-out infinite;
        }

        .pookalam-flower::after {
            bottom: -10px;
            right: 10px;
            animation: petal-dance 4s ease-in-out infinite reverse;
        }

        /* Maveli Character Styling */
        .maveli-character {
            width: 120px;
            height: 120px;
            background: linear-gradient(45deg, #FFD700, #FF6B35);
            border-radius: 50%;
            position: relative;
            animation: maveli-wave 3s ease-in-out infinite;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.6);
        }

        .maveli-crown {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 40px;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            clip-path: polygon(20% 0%, 80% 0%, 100% 100%, 0% 100%);
        }

        /* Glass morphism effects */
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 45px rgba(0, 0, 0, 0.3);
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #0A0A0A;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(45deg, #FFD700, #FF6B35);
            border-radius: 4px;
        }

        /* Responsive text sizing */
        @media (max-width: 640px) {
            .hero-title {
                font-size: 2.5rem;
            }
            .maveli-character {
                width: 80px;
                height: 80px;
            }
        }
    </style>
</head>
<body class="min-h-screen relative">
    <!-- Particle System Container -->
    <div id="particles-container" class="fixed inset-0 pointer-events-none z-0"></div>
    
    <!-- Floating Pookalam Flowers -->
    <div class="fixed inset-0 pointer-events-none z-1">
        <div class="pookalam-flower" style="top: 10%; left: 10%; animation-delay: 0s;"></div>
        <div class="pookalam-flower" style="top: 20%; right: 15%; animation-delay: 2s;"></div>
        <div class="pookalam-flower" style="bottom: 30%; left: 20%; animation-delay: 4s;"></div>
        <div class="pookalam-flower" style="bottom: 15%; right: 25%; animation-delay: 6s;"></div>
        <div class="pookalam-flower" style="top: 50%; left: 5%; animation-delay: 1s;"></div>
        <div class="pookalam-flower" style="top: 70%; right: 10%; animation-delay: 3s;"></div>
    </div>

    <!-- Name Input Modal -->
    <div id="nameModal" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-card rounded-2xl p-8 max-w-md mx-4 text-center">
            <div class="maveli-character mx-auto mb-6">
                <div class="maveli-crown"></div>
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-2xl">üëë</div>
            </div>
            <h2 class="text-2xl font-festival text-festival-gold mb-4">Welcome to Onam 2024!</h2>
            <p class="text-muted-foreground mb-6">King Mahabali wants to know your name for a personalized celebration!</p>
            <input 
                type="text" 
                id="userName" 
                placeholder="Enter your name..." 
                class="w-full px-4 py-3 rounded-lg bg-muted border border-border text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary mb-4"
                maxlength="30"
            >
            <button 
                onclick="submitName()" 
                class="w-full bg-gradient-to-r from-primary to-secondary text-primary-foreground py-3 rounded-lg font-semibold hover:shadow-lg transform hover:scale-105 transition-all duration-300"
            >
                Begin Celebration üå∏
            </button>
        </div>
    </div>

    <!-- Music Control -->
    <button id="musicToggle" class="fixed top-4 right-4 z-40 bg-gradient-to-r from-primary to-secondary text-primary-foreground p-3 rounded-full shadow-lg hover:scale-110 transition-all duration-300">
        <i class="fas fa-music text-xl"></i>
    </button>

    <!-- Audio Element -->
    <audio id="festivalMusic" loop>
        <!-- TODO: Add festive music source -->
        <!-- <source src="onam-music.mp3" type="audio/mpeg"> -->
    </audio>

    <!-- Main Content -->
    <main class="relative z-10">
        <!-- Hero Section -->
        <section class="min-h-screen flex items-center justify-center px-4 relative">
            <!-- Animated Maveli Character -->
            <div class="absolute top-20 right-10 maveli-character hidden md:block">
                <div class="maveli-crown"></div>
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-4xl animate-maveli-wave">ü§¥</div>
            </div>

            <div class="text-center max-w-4xl mx-auto">
                <div class="animate-float mb-8">
                    <h1 class="hero-title text-5xl md:text-7xl font-festival bg-gradient-to-r from-festival-gold via-festival-orange to-festival-red bg-clip-text text-transparent mb-4">
                        Happy Onam
                    </h1>
                    <p id="personalGreeting" class="text-xl md:text-2xl text-muted-foreground mb-8">
                        Welcome to the Festival of Kings! üå∏
                    </p>
                </div>

                <!-- Interactive Pookalam Display -->
                <div class="relative mb-12">
                    <div class="w-64 h-64 mx-auto relative cursor-pointer transform hover:scale-110 transition-all duration-500" onclick="triggerSurprise()">
                        <!-- Central Pookalam Design -->
                        <div class="absolute inset-0 rounded-full bg-gradient-to-r from-festival-gold via-festival-orange to-festival-red animate-flower-spin"></div>
                        <div class="absolute inset-4 rounded-full bg-gradient-to-r from-festival-green via-festival-purple to-festival-gold animate-flower-spin" style="animation-direction: reverse;"></div>
                        <div class="absolute inset-8 rounded-full bg-gradient-to-r from-festival-red via-festival-orange to-festival-green animate-flower-spin"></div>
                        <div class="absolute inset-12 rounded-full bg-gradient-to-r from-festival-purple via-festival-gold to-festival-red animate-flower-spin" style="animation-direction: reverse;"></div>
                        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-4xl animate-pulse">üå∏</div>
                    </div>
                    <p class="text-muted-foreground mt-4 text-sm">Tap the Pookalam for a surprise! ‚ú®</p>
                </div>

                <!-- Call to Action -->
                <div class="space-y-4">
                    <button onclick="scrollToStory()" class="bg-gradient-to-r from-accent to-festival-green text-accent-foreground px-8 py-4 rounded-full font-semibold hover:shadow-lg transform hover:scale-105 transition-all duration-300 mr-4">
                        Discover Onam Story üìñ
                    </button>
                    <button onclick="triggerFireworks()" class="bg-gradient-to-r from-festival-purple to-festival-red text-white px-8 py-4 rounded-full font-semibold hover:shadow-lg transform hover:scale-105 transition-all duration-300">
                        Celebrate Now! üéÜ
                    </button>
                </div>
            </div>
        </section>

        <!-- Story Section -->
        <section id="storySection" class="min-h-screen py-20 px-4">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-4xl md:text-5xl font-festival text-center mb-12 bg-gradient-to-r from-festival-gold to-festival-orange bg-clip-text text-transparent">
                    The Legend of King Mahabali
                </h2>
                
                <div class="grid md:grid-cols-2 gap-12 items-center">
                    <!-- Story Content -->
                    <div class="glass-card rounded-2xl p-8">
                        <h3 class="text-2xl font-semibold text-festival-gold mb-4">The Golden Age</h3>
                        <p class="text-muted-foreground leading-relaxed mb-4">
                            Long ago, Kerala was ruled by the benevolent King Mahabali, whose reign brought unprecedented prosperity and happiness. Under his rule, there was no poverty, no crime, and no sorrow.
                        </p>
                        <p class="text-muted-foreground leading-relaxed mb-4">
                            However, the gods became concerned about his growing power. Lord Vishnu, in his Vamana avatar, visited the king and asked for three paces of land.
                        </p>
                        <p class="text-muted-foreground leading-relaxed">
                            Despite warnings, the generous king granted the request. Vamana then grew to cosmic proportions, covering the earth and sky in two steps, and pushed Mahabali to the underworld with the third.
                        </p>
                    </div>

                    <!-- Animated Elements -->
                    <div class="relative">
                        <div class="maveli-character mx-auto mb-8" style="width: 200px; height: 200px;">
                            <div class="maveli-crown"></div>
                            <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-6xl">üëë</div>
                        </div>
                        
                        <!-- Floating Story Elements -->
                        <div class="absolute top-10 -right-5 animate-float" style="animation-delay: 1s;">
                            <div class="text-3xl">üè∞</div>
                        </div>
                        <div class="absolute bottom-10 -left-5 animate-float" style="animation-delay: 2s;">
                            <div class="text-3xl">üå∫</div>
                        </div>
                    </div>
                </div>

                <!-- Modern Celebration -->
                <div class="mt-16 text-center">
                    <div class="glass-card rounded-2xl p-8">
                        <h3 class="text-2xl font-semibold text-festival-gold mb-4">Onam Today</h3>
                        <p class="text-muted-foreground leading-relaxed mb-6">
                            Every year, Malayalis celebrate Onam to welcome back their beloved king. It's a time of unity, joy, and cultural richness - transcending all boundaries of caste, creed, and religion.
                        </p>
                        <div class="flex justify-center space-x-8 text-4xl">
                            <span class="animate-bounce" style="animation-delay: 0s;">üå∏</span>
                            <span class="animate-bounce" style="animation-delay: 0.5s;">ü••</span>
                            <span class="animate-bounce" style="animation-delay: 1s;">üé≠</span>
                            <span class="animate-bounce" style="animation-delay: 1.5s;">üõ∂</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Interactive Elements Section -->
        <section class="min-h-screen py-20 px-4">
            <div class="max-w-6xl mx-auto">
                <h2 class="text-4xl md:text-5xl font-festival text-center mb-12 bg-gradient-to-r from-festival-green to-festival-purple bg-clip-text text-transparent">
                    Festival Traditions
                </h2>

                <div class="grid md:grid-cols-3 gap-8">
                    <!-- Pookalam Card -->
                    <div class="glass-card rounded-2xl p-6 text-center hover:scale-105 transition-all duration-300 cursor-pointer" onclick="animateCard(this)">
                        <div class="text-6xl mb-4 animate-pulse">üåª</div>
                        <h3 class="text-xl font-semibold text-festival-gold mb-2">Pookalam</h3>
                        <p class="text-muted-foreground">Beautiful flower carpets made with vibrant petals, welcoming King Mahabali home.</p>
                    </div>

                    <!-- Onasadya Card -->
                    <div class="glass-card rounded-2xl p-6 text-center hover:scale-105 transition-all duration-300 cursor-pointer" onclick="animateCard(this)">
                        <div class="text-6xl mb-4 animate-pulse">üçõ</div>
                        <h3 class="text-xl font-semibold text-festival-gold mb-2">Onasadya</h3>
                        <p class="text-muted-foreground">The grand feast served on banana leaves with over 20 traditional dishes.</p>
                    </div>

                    <!-- Thiruvathira Card -->
                    <div class="glass-card rounded-2xl p-6 text-center hover:scale-105 transition-all duration-300 cursor-pointer" onclick="animateCard(this)">
                        <div class="text-6xl mb-4 animate-pulse">üíÉ</div>
                        <h3 class="text-xl font-semibold text-festival-gold mb-2">Thiruvathira</h3>
                        <p class="text-muted-foreground">Traditional dance performed by women in a circle, celebrating unity and grace.</p>
                    </div>
                </div>

                <!-- Hidden Mini-Game Trigger -->
                <div class="text-center mt-16">
                    <button onclick="startMiniGame()" class="bg-gradient-to-r from-festival-red to-festival-purple text-white px-8 py-4 rounded-full font-semibold hover:shadow-lg transform hover:scale-105 transition-all duration-300">
                        üéÆ Play Pookalam Puzzle
                    </button>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="py-12 px-4 text-center">
            <div class="max-w-4xl mx-auto">
                <p id="personalizedFooter" class="text-muted-foreground text-lg mb-4">
                    May this Onam bring joy, prosperity, and happiness to your life! üå∏
                </p>
                <div class="flex justify-center space-x-6 text-2xl mb-6">
                    <span class="animate-bounce" style="animation-delay: 0s;">üå∫</span>
                    <span class="animate-bounce" style="animation-delay: 0.2s;">üé≠</span>
                    <span class="animate-bounce" style="animation-delay: 0.4s;">üõ∂</span>
                    <span class="animate-bounce" style="animation-delay: 0.6s;">ü••</span>
                    <span class="animate-bounce" style="animation-delay: 0.8s;">üå∏</span>
                </div>
                <p class="text-sm text-muted-foreground">¬© 2024 Onam Festival Celebration</p>
            </div>
        </footer>
    </main>

    <!-- Fireworks Container -->
    <div id="fireworksContainer" class="fixed inset-0 pointer-events-none z-30"></div>

    <script>
        // Global variables
        let userName = '';
        let isRealName = false;
        let musicPlaying = false;
        let particleInterval;

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Check if name is already stored
            const storedName = localStorage.getItem('onamUserName');
            const storedNameStatus = localStorage.getItem('onamNameStatus');
            
            if (storedName) {
                userName = storedName;
                isRealName = storedNameStatus === 'real';
                hideNameModal();
                updatePersonalizedContent();
            }
            
            // Initialize particle system
            startParticleSystem();
            
            // Initialize music toggle
            initializeMusicToggle();
        });

        // Name submission and validation
        function submitName() {
            const nameInput = document.getElementById('userName');
            const enteredName = nameInput.value.trim();
            
            if (enteredName.length < 2) {
                alert('Please enter a valid name!');
                return;
            }
            
            userName = enteredName;
            
            // Mock name validation (In real implementation, this would call a backend API)
            // TODO: Implement actual backend validation API call
            isRealName = validateName(enteredName);
            
            // Store in localStorage
            localStorage.setItem('onamUserName', userName);
            localStorage.setItem('onamNameStatus', isRealName ? 'real' : 'fake');
            
            hideNameModal();
            updatePersonalizedContent();
        }

        // Mock name validation function
        function validateName(name) {
            // Simple mock validation - in reality this would hit a backend API
            const commonNames = ['john', 'jane', 'alex', 'sarah', 'mike', 'lisa', 'david', 'anna', 'raj', 'priya', 'rahul', 'kavya'];
            return commonNames.includes(name.toLowerCase()) || /^[a-zA-Z\s]{2,}$/.test(name);
        }

        function hideNameModal() {
            document.getElementById('nameModal').style.display = 'none';
        }

        function updatePersonalizedContent() {
            const greetingElement = document.getElementById('personalGreeting');
            const footerElement = document.getElementById('personalizedFooter');
            
            let greeting, footer;
            
            if (isRealName) {
                greeting = `üå∏ Happy Onam, ${userName}! King Mahabali is delighted to meet you! üå∏`;
                footer = `${userName}, may this Onam bring you the same joy and prosperity that King Mahabali brought to Kerala! üå∏`;
            } else {
                greeting = `üå∏ Happy Onam, "${userName}"! King Mahabali appreciates your... creative name choice! üòÑ üå∏`;
                footer = `"${userName}", even with such an interesting name, you're warmly welcomed to our celebration! The king has a sense of humor too! üòâüå∏`;
            }
            
            greetingElement.innerHTML = greeting;
            footerElement.innerHTML = footer;
        }

        // Music functionality
        function initializeMusicToggle() {
            const musicToggle = document.getElementById('musicToggle');
            const music = document.getElementById('festivalMusic');
            
            musicToggle.addEventListener('click', function() {
                if (musicPlaying) {
                    music.pause();
                    musicToggle.innerHTML = '<i class="fas fa-music-slash text-xl"></i>';
                    musicPlaying = false;
                } else {
                    // In real implementation, music would play here
                    // music.play();
                    musicToggle.innerHTML = '<i class="fas fa-music text-xl"></i>';
                    musicPlaying = true;
                    
                    // Show feedback for demo
                    showToast('üéµ Festive music toggled!');
                }
            });
        }

        // Particle system
        function startParticleSystem() {
            const container = document.getElementById('particles-container');
            
            particleInterval = setInterval(function() {
                createParticle(container);
            }, 2000);
        }

        function createParticle(container) {
            const particle = document.createElement('div');
            const symbols = ['üå∏', 'üå∫', 'üåª', 'üåº', 'üíê', 'üé≠', 'üëë'];
            const randomSymbol = symbols[Math.floor(Math.random() * symbols.length)];
            
            particle.className = 'particle text-2xl';
            particle.innerHTML = randomSymbol;
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDuration = (Math.random() * 5 + 8) + 's';
            particle.style.animationName = 'particle-float';
            
            container.appendChild(particle);
            
            // Remove particle after animation
            setTimeout(() => {
                if (particle.parentNode) {
                    particle.parentNode.removeChild(particle);
                }
            }, 13000);
        }

        // Interactive functions
        function scrollToStory() {
            document.getElementById('storySection').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }

        function triggerSurprise() {
            // Create surprise animation
            const surpriseMessages = [
                'üéâ Surprise! King Mahabali sends his blessings!',
                '‚ú® May your life be as colorful as this Pookalam!',
                'üåü You\'ve discovered the magic of Onam!',
                'üéä The flowers dance for you, dear visitor!'
            ];
            
            const randomMessage = surpriseMessages[Math.floor(Math.random() * surpriseMessages.length)];
            showToast(randomMessage);
            
            // Trigger temporary flower rain
            createFlowerRain();
        }

        function createFlowerRain() {
            const container = document.body;
            
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const flower = document.createElement('div');
                    flower.innerHTML = 'üå∏';
                    flower.className = 'fixed text-2xl pointer-events-none z-20';
                    flower.style.left = Math.random() * 100 + '%';
                    flower.style.top = '-50px';
                    flower.style.animation = 'particle-float 3s linear forwards';
                    
                    container.appendChild(flower);
                    
                    setTimeout(() => {
                        if (flower.parentNode) {
                            flower.parentNode.removeChild(flower);
                        }
                    }, 3000);
                }, i * 100);
            }
        }

        function triggerFireworks() {
            const container = document.getElementById('fireworksContainer');
            
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    createFirework(container);
                }, i * 300);
            }
            
            showToast('üéÜ Spectacular fireworks for the celebration!');
        }

        function createFirework(container) {
            const firework = document.createElement('div');
            const colors = ['#FFD700', '#FF6B35', '#DC143C', '#50C878', '#8A2BE2'];
            const randomColor = colors[Math.floor(Math.random() * colors.length)];
            
            firework.className = 'absolute w-4 h-4 rounded-full';
            firework.style.backgroundColor = randomColor;
            firework.style.left = Math.random() * 100 + '%';
            firework.style.top = Math.random() * 50 + 25 + '%';
            firework.style.boxShadow = `0 0 20px ${randomColor}`;
            firework.style.animation = 'firework 2s ease-out forwards';
            
            container.appendChild(firework);
            
            setTimeout(() => {
                if (firework.parentNode) {
                    firework.parentNode.removeChild(firework);
                }
            }, 2000);
        }

        function animateCard(card) {
            card.style.transform = 'scale(1.1) rotate(5deg)';
            card.style.boxShadow = '0 25px 50px rgba(255, 215, 0, 0.3)';
            
            setTimeout(() => {
                card.style.transform = 'scale(1)';
                card.style.boxShadow = '0 25px 45px rgba(0, 0, 0, 0.3)';
            }, 300);
            
            showToast('‚ú® Beautiful tradition celebrated!');
        }

        function startMiniGame() {
            // Simple interactive mini-game placeholder
            const gameMessages = [
                'üéÆ Pookalam Puzzle: Arrange the flowers in order of colors!',
                'üåà Challenge: Create a perfect circular pattern!',
                'üéØ Mini-Game: Match the traditional Onam colors!'
            ];
            
            const randomGame = gameMessages[Math.floor(Math.random() * gameMessages.length)];
            showToast(randomGame);
            
            // Trigger special effects for mini-game
            createFlowerRain();
            
            // In a real implementation, this would launch an actual mini-game
            setTimeout(() => {
                showToast('üèÜ Congratulations! You\'ve mastered the art of Pookalam!');
            }, 3000);
        }

        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'fixed top-20 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-festival-gold to-festival-orange text-black px-6 py-3 rounded-full font-semibold z-50 shadow-lg';
            toast.innerHTML = message;
            
            document.body.appendChild(toast);
            
            // Animate in
            toast.style.opacity = '0';
            toast.style.transform = 'translateX(-50%) translateY(-20px)';
            
            setTimeout(() => {
                toast.style.opacity = '1';
                toast.style.transform = 'translateX(-50%) translateY(0)';
                toast.style.transition = 'all 0.3s ease';
            }, 100);
            
            // Remove after delay
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translateX(-50%) translateY(-20px)';
                
                setTimeout(() => {
                    if (toast.parentNode) {
                        toast.parentNode.removeChild(toast);
                    }
                }, 300);
            }, 3000);
        }

        // Handle enter key in name input
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && document.getElementById('nameModal').style.display !== 'none') {
                submitName();
            }
        });

        // Parallax scrolling effect
        window.addEventListener('scroll', function() {
            const scrolled = window.pageYOffset;
            const parallaxElements = document.querySelectorAll('.maveli-character');
            
            parallaxElements.forEach(element => {
                const speed = 0.5;
                element.style.transform = `translateY(${scrolled * speed}px)`;
            });
        });
    </script>
</body>
</html>